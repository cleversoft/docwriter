<div class="dw-heading">
    Users <a href="/admin/user/add" class="btn btn-default btn-sm"><i class="fa fa-plus"></i> Add new user</a>
</div>

<table class="table table-striped dw-table-middle">
    <thead>
        <tr>
            <th>Username</th>
            <th>Full name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Actions</th>
        </tr>
    </thead>

    <tbody>
        <tr ng-repeat="user in users">
            <td><img gravatar-src="user.email" gravatar-size="50" class="dw-avatar" /> {{ user.username }}</td>
            <td>{{ user.first_name + ' ' + user.last_name }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.role }}</td>
            <td>
                <a href="/admin/user/edit/{{ user._id }}" class="btn btn-default">Edit</a>
                <button class="btn btn-default" ng-if="user.username !== currentUser.username" ng-click="lock(user)">{{ user.locked ? 'Unlock' : 'Lock' }}</button>
                <span ng-if="user.username === currentUser.username">It's you</span>
            </td>
        </tr>
    </tbody>
</table>